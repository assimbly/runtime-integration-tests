<dil>
    <integrations>
        <integration>
            <flows>
                <flow>
                    <id>oauth_test1</id>
                    <name>oauth_test1</name>
                    <type>esb</type>
                    <steps>
                        <step>
                            <id>1</id>
                            <type>source</type>
                            <uri>https://0.0.0.0:9001/1/oauth</uri>
                        </step>
                        <step>
                            <id>2</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_refresh_token</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABC==)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>3</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_access_token</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHI==)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>4</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_expire_date</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(MTY2ODY4NDI3OTE2Mw==)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>5</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_refresh_flag</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(MA==)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>6</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_redirect_uri</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGH=)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>7</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_client_id</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJK)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>8</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_client_secret</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(ABCDEFGHIJKLMNOPQRSTUVWXYZ+0123456789ABCDEFGHIJKLMNOPQ==)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>9</id>
                            <type>action</type>
                            <uri>globalvariables://oauth2_20f44cb0-3d76-11ed-b962-0978946afb23_scope</uri>
                            <options>
                                <operation>SET</operation>
                                <value>RAW(aHR0cHM6Ly9kZXZlbG9wbWVudC5kb3ZldGFpbC53b3JsZC9vYXV0aDJ0b2tlbi90ZXN0LzIwZjQ0Y2IwLTNk)</value>
                                <encrypt>false</encrypt>
                                <modifier>ComponentsTests/GetVariable</modifier>
                                <environment>test</environment>
                                <tenant>default</tenant>
                            </options>
                        </step>
                        <step>
                            <id>10</id>
                            <type>action</type>
                            <uri>oauth2token</uri>
                            <options>
                                <id>20f44cb0-3d76-11ed-b962-0978946afb23</id>
                                <tokenName>OAuth2Token</tokenName>
                                <tenant>default</tenant>
                                <expiryDelay>30</expiryDelay>
                            </options>
                        </step>
                        <step>
                            <id>11</id>
                            <type>sink</type>
                            <uri>velocity:${header.OAuth2Token}</uri>
                        </step>
                    </steps>
                </flow>
            </flows>
        </integration>
    </integrations>
</dil>