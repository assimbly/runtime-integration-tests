{
  "dil": {
    "integrations": {
      "integration": {
        "flows": {
          "flow": {
            "id": "sql_test1",
            "name": "sql_test1",
            "type": "esb",
            "steps": {
              "step": [
                {
                  "id": "1",
                  "type": "source",
                  "uri": "https://0.0.0.0:9001/1/sql",
                  "links": {
                    "link": {
                      "id": "2",
                      "transport": "sync",
                      "bound": "out"
                    }
                  }
                },
                {
                  "id": "2",
                  "type": "action",
                  "uri": "setbody:<persons>\t\t\t\t\t\t\t  <person>\t\t\t\t\t\t\t\t<name>John Doe</name>\t\t\t\t\t\t\t  </person>\t\t\t\t\t\t\t  <person>\t\t\t\t\t\t\t\t<name>Jane Doe</name>\t\t\t\t\t\t\t  </person>\t\t\t\t\t\t\t</persons>                            ",
                  "links": {
                    "link": [
                      {
                        "id": "2",
                        "transport": "sync",
                        "bound": "in"
                      },
                      {
                        "id": "3",
                        "transport": "sync",
                        "bound": "out"
                      }
                    ]
                  }
                },
                {
                  "id": "3",
                  "type": "action",
                  "uri": "setheaders:message:database",
                  "links": {
                    "link": [
                      {
                        "id": "3",
                        "transport": "sync",
                        "bound": "in"
                      },
                      {
                        "id": "4",
                        "transport": "sync",
                        "bound": "out"
                      }
                    ]
                  }
                },
                {
                  "id": "4",
                  "type": "action",
                  "uri": "sql-custom://dovetail@monitoring.ch4wip2sipng.eu-west-1.rds.amazonaws.com:3306",
                  "options": {
                    "password": "RAW(T25lVHdvMTI=)",
                    "database": "monitoring",
                    "connectionType": "mysql",
                    "useSSL": "false",
                    "tlsVersion": "",
                    "escapeChars": "false",
                    "query": "RAW(U0VMRUNUIHZlcnNpb24oKQ==)"
                  },
                  "links": {
                    "link": [
                      {
                        "id": "4",
                        "transport": "sync",
                        "bound": "in"
                      },
                      {
                        "id": "5",
                        "transport": "sync",
                        "bound": "out"
                      }
                    ]
                  }
                },
                {
                  "id": "5",
                  "type": "sink",
                  "uri": "velocity:Message Body: ${bodyAs(String)}",
                  "links": {
                    "link": {
                      "id": "5",
                      "transport": "sync",
                      "bound": "in"
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "core": {
      "messages": {
        "message": {
          "id": "1",
          "name": "database",
          "headers": {
            "timestamp": {
              "type": "header",
              "language": "simple",
              "": "${date-with-timezone:now:Europe/Amsterdam:yyyy-MM-dd'T'HH:mm:ss}"
            },
            "name": {
              "type": "header",
              "language": "constant",
              "": "name"
            },
            "value": {
              "type": "header",
              "language": "constant",
              "": "value"
            },
            "route": {
              "type": "header",
              "language": "constant",
              "": "Mysql5.7"
            },
            "escape": {
              "type": "header",
              "language": "constant",
              "": "no"
            }
          }
        }
      }
    }
  }
}