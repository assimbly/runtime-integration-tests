<dil>
    <integrations>
        <integration>
            <flows>
                <flow>
                    <id>ftpcomponent_test1</id>
                    <name>ftpcomponent_test1</name>
                    <type>esb</type>
                    <steps>
                        <step>
                            <id>1</id>
                            <type>source</type>
                            <uri>https://0.0.0.0:9001/1/ftpcomponent</uri>
                            <links>
                                <link>
                                    <id>2</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>2</id>
                            <type>action</type>
                            <uri>setbody:testing FTP!</uri>
                            <links>
                                <link>
                                    <id>2</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                                <link>
                                    <id>3</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>3</id>
                            <type>action</type>
                            <uri>ftp:dlpuser@ftp.dlptest.com:21//tmp</uri>
                            <options>
                                <autoCreate>true</autoCreate>
                                <charset>utf-8</charset>
                                <fileExist>Override</fileExist>
                                <fileName>test.txt</fileName>
                                <passiveMode>true</passiveMode>
                                <disconnect>true</disconnect>
                                <throwExceptionOnConnectFailed>true</throwExceptionOnConnectFailed>
                                <bridgeErrorHandler>true</bridgeErrorHandler>
                                <password>RAW(rNrKYTX9g7z3RgJRmxWuGHbeu)</password>
                            </options>
                            <links>
                                <link>
                                    <id>3</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                                <link>
                                    <id>4</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>4</id>
                            <type>action</type>
                            <uri>setbody:reset body...</uri>
                            <links>
                                <link>
                                    <id>4</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                                <link>
                                    <id>5</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>5</id>
                            <type>router</type>
                            <uri>enrich</uri>
                            <options>
                                <enrichType>application/override</enrichType>
                            </options>
                            <links>
                                <link>
                                    <id>5</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                                <link>
                                    <id>6</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                </link>
                                <link>
                                    <id>7</id>
                                    <transport>sync</transport>
                                    <bound>out</bound>
                                    <rule>sync</rule>
                                    <expression>7</expression>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>6</id>
                            <type>sink</type>
                            <uri>velocity:${bodyAs(String)}</uri>
                            <links>
                                <link>
                                    <id>6</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                            </links>
                        </step>
                        <step>
                            <id>7</id>
                            <type>sink</type>
                            <uri>pollenrich:ftp:dlpuser@ftp.dlptest.com:21//tmp/</uri>
                            <options>
                                <autoCreate>true</autoCreate>
                                <charset>utf-8</charset>
                                <delete>true</delete>
                                <recursive>false</recursive>
                                <fileName>test.txt</fileName>
                                <passiveMode>true</passiveMode>
                                <disconnect>true</disconnect>
                                <throwExceptionOnConnectFailed>true</throwExceptionOnConnectFailed>
                                <bridgeErrorHandler>true</bridgeErrorHandler>
                                <password>RAW(rNrKYTX9g7z3RgJRmxWuGHbeu)</password>
                            </options>
                            <links>
                                <link>
                                    <id>7</id>
                                    <transport>sync</transport>
                                    <bound>in</bound>
                                </link>
                            </links>
                        </step>
                    </steps>
                </flow>
            </flows>
        </integration>
    </integrations>
</dil>